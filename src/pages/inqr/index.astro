---
import Sidebar from "../../components/sidebar.astro";
import Layout from "../../layouts/LayoutEditors.astro";
---

<Layout i18nTitle="inqr.title">
    <html lang="es">
        <head>
            <meta charset="UTF-8" />
            <link rel="shortcut icon" type="image/x-icon" href="/inqr/favicon.ico" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>InQR | Genera QR gratis y privado</title>
            <meta
        name="description"
        content="Generador de códigos QR y códigos de barras moderno y fácil de usar"
      />
      <meta name="author" content="Inled Group" />
      <link rel="stylesheet" href="/inqr/estilos.css" />

      <script
        src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/js/all.min.js"
      ></script>

      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link
        href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet"
      />
    </head>

    <body>
      <div class="container">
        <Sidebar />

        <!-- Header -->
        <div class="header">
          <img src="/inqr/inqr.png" class="qr-icon" alt="INQR logo" />

          <h1 class="main-title">InQR</h1>
          <p class="subtitle" data-i18n="inqr.subtitle">Genera códigos QR</p>
        </div>

        <div class="grid">
          <!-- Input Section -->
          <div class="card">
            <h2 class="card-title" data-i18n="inqr.create">Crear código</h2>

            <!-- Type Selector -->
            <div class="type-selector">
              <div class="type-tabs">
                <div class="type-tab active" data-type="text">
                  <div><i class="fa-solid fa-link"></i> <br /> <span data-i18n="inqr.tab_text">Texto/URL</span></div>
                </div>
                <div class="type-tab" data-type="wifi">
                  <div><i class="fa-solid fa-wifi"></i><br /> <span data-i18n="inqr.tab_wifi">Acceso WiFi</span></div>
                </div>
                <div class="type-tab" data-type="barcode">
                  <div>
                    <i class="fa-solid fa-barcode"></i><br /><span data-i18n="inqr.tab_barcode">Código de Barras</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Text/URL Form -->
            <div class="text-form active" id="textForm">
              <div class="input-container">
                <input
                  type="text"
                  class="text-input"
                  id="textInput"
                  placeholder="Escribe aquí tu texto, URL, número de teléfono... "
                  data-i18n-placeholder="inqr.input_text"
                />
                <button class="copy-btn" id="copyBtn">
                  <svg class="copy-icon" id="copyIcon" viewBox="0 0 24 24">
                    <path
                      d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"
                    ></path>
                  </svg>
                  <svg
                    class="check-icon hidden"
                    id="checkIcon"
                    viewBox="0 0 24 24"
                  >
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                    ></path>
                  </svg>
                </button>
              </div>
            </div>

            <!-- WiFi Form -->
            <div class="wifi-form" id="wifiForm">
              <div class="form-group">
                <label for="wifiSSID" data-i18n="inqr.wifi_ssid">Nombre de la red (SSID):</label>
                <input
                  type="text"
                  class="text-input"
                  id="wifiSSID"
                  placeholder="Wifi_My"
                />
              </div>
              <div class="form-group">
                <label for="wifiPassword" data-i18n="inqr.wifi_pass">Contraseña:</label>
                <input
                  type="password"
                  class="text-input"
                  id="wifiPassword"
                  placeholder="wifi2524"
                />
              </div>
              <div class="form-group">
                <label for="wifiSecurity" data-i18n="inqr.wifi_security">Tipo de seguridad:</label>
                <select class="select-input" id="wifiSecurity">
                  <option value="WPA">WPA/WPA2</option>
                  <option value="WEP">WEP</option>
                  <option value="nopass">Sin contraseña</option>
                </select>
              </div>
              <div class="form-group">
                <label>
                  <input type="checkbox" id="wifiHidden" /> <span data-i18n="inqr.wifi_hidden">Red oculta</span>
                </label>
              </div>
            </div>

            <!-- Barcode Form -->
            <div class="barcode-form" id="barcodeForm">
              <div class="form-group">
                <label for="barcodeText" data-i18n="inqr.barcode_content">Contenido del código de barras:</label>
                <input
                  type="text"
                  class="text-input"
                  id="barcodeText"
                  placeholder="Escribe aquí el contenido del código"
                />
              </div>
              <div class="form-group">
                <label for="barcodeType" data-i18n="inqr.barcode_type">Tipo de código de barras:</label>
                <select class="select-input" id="barcodeType">
                  <option value="code128">CODE 128</option>
                  <!--<option value="ean13">EAN-13</option>
                <option value="ean8">EAN-8</option>
                <option value="upc">UPC-A</option>-->
                </select>
              </div>
            </div>

            <button class="generate-btn" id="generateBtn">
              <i class="fa-solid fa-qrcode"></i>
              <span id="generateText" data-i18n="inqr.generate">Generar Código</span>
            </button>

            <!-- Tips -->
            <div class="tips">
              <h3><i class="fa-regular fa-lightbulb"></i> <span data-i18n="inqr.tips_title">Consejos:</span></h3>
              <ul id="tipsList">
                <li data-i18n="inqr.tip1">• Puedes usar URLs, texto, números de teléfono</li>
                <li data-i18n="inqr.tip2">• El código se puede descargar como imagen PNG</li>
              </ul>
            </div>
          </div>

          <!-- QR Display Section -->
          <div class="card">
            <h2 class="card-title" id="resultTitle" data-i18n="inqr.your_code">Tu Código</h2>

            <div class="qr-display">
              <!-- Placeholder -->
              <div class="placeholder" id="placeholder">
                <div class="placeholder-icon">
                  <svg class="placeholder-qr" viewBox="0 0 24 24">
                    <path
                      d="M3 11V3h8v8H3zm2-6v4h4V5H5zm8-2v8h8V3h-8zm6 6h-4V5h4v4zM3 21v-8h8v8H3zm2-6v4h4v-4H5zm10 2h2v2h-2v-2zm0 2h2v2h-2v-2zm-2-2h2v2h-2v-2zm4 0h2v2h-2v-2zm0-4h2v2h-2v-2zm2 0h2v2h-2v-2z"
                    ></path>
                  </svg>
                </div>
                <h3 data-i18n="inqr.no_code_title">No hay código aún</h3>
                <p data-i18n="inqr.no_code_desc">Selecciona un tipo y genera tu código</p>
              </div>

              <!-- Result -->
              <div class="hidden" id="codeResult">
                <div class="qr-container">
                  <img class="qr-image" id="codeImage" alt="Código generado" />
                </div>

                <button class="download-btn" id="downloadBtn">
                  <svg class="download-icon" viewBox="0 0 24 24">
                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path>
                  </svg>
                  <span id="downloadText" data-i18n="inqr.download">Descargar Código</span>
                </button>

                <div class="encoded-text">
                  <p data-i18n="inqr.encoded_data">Datos codificados:</p>
                  <div class="encoded-text-content" id="encodedText"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="footer">
          <p data-i18n="inqr.footer">Genera códigos QR gratuitamente · No recopilamos tus datos</p>
        </div>
      </div>

      <!-- Toast -->
      <div class="toast" id="toast">
        <p id="toastMessage"></p>
      </div>
    </body>
    <script is:inline src="/inqr/_funcionalidad.js"></script>
  </html>
</Layout>
