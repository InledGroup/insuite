---
import Sidebar from "../../components/sidebar.astro";
import Layout from "../../layouts/LayoutEditors.astro";
---

<Layout i18nTitle="mdoxc.title">
    <html lang="es">
        <head>
            <meta charset="UTF-8" />
            <meta
                name="viewport"
                content="width=device-width, initial-scale=1.0"
            />
            <title>MDOCX| Private MD/DOCX Converter: All Processing in Your Browser, Zero Cloud Uploads</title>
            <meta name="description" content="MDOCX is a private MD/DOCX converter that allows you to convert Markdown to DOCX and DOCX to Markdown in your browser. All processing is done locally, and no cloud uploads are required. Try it now, it's completely free!" />
            <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
            <script
                src="https://kit.fontawesome.com/4bf0ac964c.js"
                crossorigin="anonymous"></script>

            <link rel="stylesheet" href="/mdoxc/style.css" />

            <!-- Librerías para conversión DOCX real - DEBEN cargarse primero -->
            <script src="https://cdn.jsdelivr.net/npm/marked@4.0.10/marked.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/mammoth@1.8.0/mammoth.browser.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/pizzip@3.1.4/dist/pizzip.min.js"></script>

            <!-- Script principal - se carga después de las librerías -->
            <script is:inline src="/mdoxc/_script.js"></script>

            <link rel="preconnect" href="https://fonts.googleapis.com" />
            <link
                rel="preconnect"
                href="https://fonts.gstatic.com"
                crossorigin
            />
            <link
                href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
                rel="stylesheet"
            />
        </head>
        <body>
            <div class="container">
                <Sidebar />

                <div class="header">
                    <img
                        src="https://hosted.inled.es/MDOXC.png"
                        alt="LogoMDOCX"
                        class="logo"
                    />
                    <div class="header-name">
                        <h1 data-i18n="mdoxc.header">MDOCX</h1>
                    </div>
                    <div class="header-info">
                        <span id="conversion-mode">MD → DOCX</span>
                    </div>
                </div>

                <div class="ribbon">
                    <div class="ribbon-group">
                        <label class="btn btn-upload" for="file-input">
                            <i class="fa-solid fa-upload"></i><span data-i18n="mdoxc.upload">Subir archivo</span>
                            <input type="file" id="file-input" accept=".md,.docx" style="display: none;" />
                        </label>
                        <button class="btn btn-primary" id="btn-convert">
                            <i class="fa-solid fa-rotate"></i><span data-i18n="mdoxc.convert">Convertir</span>
                        </button>
                        <button class="btn" id="btn-download" disabled>
                            <i class="fa-solid fa-download"></i><span data-i18n="mdoxc.download">Descargar</span>
                        </button>
                    </div>
                    <div class="ribbon-group">
                        <button class="btn btn-toggle" id="btn-toggle-mode">
                            <i class="fa-solid fa-arrow-right-arrow-left"></i><span id="toggle-text" data-i18n="mdoxc.mode_docx_md">Cambiar a DOCX → MD</span>
                        </button>
                        <button class="btn" id="btn-clear">
                            <i class="fa-solid fa-trash"></i><span data-i18n="mdoxc.clear">Limpiar</span>
                        </button>
                    </div>
                </div>

                <div class="main-content">
                    <div class="editor-panel">
                        <div class="panel-header">
                            <span data-i18n="mdoxc.editor">Editor</span>
                            <span class="file-info" id="input-file-info"></span>
                        </div>
                        <textarea
                            id="markdown-input"
                            placeholder="# Mi Documento

Escribe aquí tu contenido en Markdown o sube un archivo...

## Características
- Conversión MD ↔ DOCX
- Previsualización en tiempo real
- Edición de archivos
- Procesamiento local (sin enviar datos a la nube)

## Formato DOCX
Genera archivos DOCX reales compatibles con:
- Microsoft Word
- LibreOffice Writer
- OnlyOffice
- Google Docs"
                            data-i18n-placeholder="mdoxc.placeholder"
                        ></textarea>
                    </div>

                    <div class="preview-panel">
                        <div class="panel-header">
                            <span data-i18n="mdoxc.preview">Previsualización</span>
                            <span class="file-info" id="output-file-info"></span>
                        </div>
                        <div id="preview"></div>
                    </div>
                </div>

                <div class="status-bar">
                    <span id="status-message" data-i18n="mdoxc.status_ready">Listo</span>
                    <span id="word-count">0 <span data-i18n="mdoxc.words">palabras</span></span>
                </div>
            </div>
        </body>
    </html>
</Layout>
